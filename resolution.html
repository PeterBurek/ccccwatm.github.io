<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>13. Increasing resolution &mdash; Community Water Model</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="_static/iiasa.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="14. Example Zambezi" href="zambezi.html" />
    <link rel="prev" title="12. Calibration tutorial" href="calibration_tutorial.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Community Water Model
              <img src="_static/IIASA_logo_white.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.0.6
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="modeldesign.html">2. Model Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="publication.html">3. Publication</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">4. Setup of the model</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">5. Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="errorHandling.html">6. Error handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="listVariables.html">7. List of output variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="results.html">8. Demo of the model</a></li>
<li class="toctree-l1"><a class="reference internal" href="todo.html">9. The Model Itself</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">10. Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="calibration.html">11. Calibration tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="calibration_tutorial.html">12. Calibration tutorial</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">13. Increasing resolution</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#data-handling">Data handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="#river-dimensions">River dimensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#artificially-increasing-resolution">Artificially increasing resolution</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="zambezi.html">14. Example Zambezi</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">15. License and download info</a></li>
<li class="toctree-l1"><a class="reference internal" href="sourcecode.html">16. Source code</a></li>
<li class="toctree-l1"><a class="reference internal" href="forum.html">17. Forum</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Community Water Model</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><span class="section-number">13. </span>Increasing resolution</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/resolution.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="increasing-resolution">
<h1><span class="section-number">13. </span>Increasing resolution<a class="headerlink" href="#increasing-resolution" title="Permalink to this heading"></a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In development</p>
</div>
<section id="data-handling">
<h2>Data handling<a class="headerlink" href="#data-handling" title="Permalink to this heading"></a></h2>
</section>
<section id="river-dimensions">
<h2>River dimensions<a class="headerlink" href="#river-dimensions" title="Permalink to this heading"></a></h2>
<p>This section details how to derive the necessary river dimensions, including:
1. Manning coefficient, 2. Width, 3. Length, 4. Gradient, and 5. Depth/Height.</p>
<p><strong>Necessary inputs:</strong></p>
<ul class="simple">
<li><p>Ldd: Local drainage directions: This was derived from the drainage direction map (as_dir_30s) available from hydrosheds.com. The map from hydrosheds.com uses the ESRI direction conventions (for example, the direction top-right is 32) while we require the keypad convention (top-right is 9) for pcraster. The included <em>reclass_arc_ldd</em> file can be used for this “reclassification” in ArcGIS.</p></li>
<li><p>cell area: The file <em>cellarea_30sec_global.tif</em> is included</p></li>
<li><p>dem: Digital elevation model: downloaded from hydrosheds.com</p></li>
</ul>
<p>We demonstrate this at 30 seconds resolution for the Upper Bhima basin in India. The input data is all of 30s resolution and type .map unless otherwise indicated.</p>
<p><strong>Manning coefficient and Width</strong></p>
<ul class="simple">
<li><p>Input: ldd_UB, cellarea_UB, dem_UB</p></li>
<li><p>Output: chanmann_UB, chanwidth_UB</p></li>
</ul>
<p>Run &gt;pcrcalc -f mann_width.mod</p>
<p><strong>Length</strong></p>
<ul class="simple">
<li><p>Input: ldd_UB</p></li>
<li><p>Output: chanleng_UB</p></li>
</ul>
<p>The chanleng file denotes the length of the river in the cell, in metres. Simply, each cell with a river is attributed either a value of 1000 or 1414.</p>
<p>Reclassify the ldd file in the following way:
1,3,7,9 becomes 1414;
2,4,6,8 becomes 1000.</p>
<p><strong>Gradient</strong></p>
<ul class="simple">
<li><p>Pre-processing inputs: dem15s</p></li>
<li><p>Pre-processing outputs: dem_agg_min/med_UB</p></li>
</ul>
<p>Aggregate the 15s dem to 30s in two ways, with both the minimum and the median values.</p>
<ul class="simple">
<li><p>Input: ldd_UB, chanleng_UB, dem_agg_min/med_UB</p></li>
<li><p>Output: changrad_UB</p></li>
</ul>
<p>Run &gt;pcrcalc -f grad.mod</p>
<p><strong>Depth/Height</strong></p>
<ul class="simple">
<li><p>Input: ldd_UB, chanleng_UB, changrad_UB</p></li>
<li><p>Output: chanleng_UB</p></li>
</ul>
<p>Run &gt;pcrcalc -f height.mod</p>
</section>
<section id="artificially-increasing-resolution">
<h2>Artificially increasing resolution<a class="headerlink" href="#artificially-increasing-resolution" title="Permalink to this heading"></a></h2>
<p>Currently, input data must all be of the same resolution. If the model is to be run at 1km resolution, then all the data must be available at 1km resolution.
One can artificially increase the resolution by appropriately dividing the cells to match the desired resolution, if data of a higher resolution is not available.
The value of these smaller cells depends on the context, for example, the value could match that of the parent cell, or be an appropriate fraction of the parent cell.</p>
<p>The program subset_shrink increases the resolution from 5 minutes to 1 kilometer, and extracts a subset of the map based on latitudinal and longitudinal limits.</p>
<p>The subset_shrink package contains:
1. the executable program,
2. the associated settings file to list the data files to be handled, and the extraction limits,
3. the python script for the program and
4. a README file.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="calibration_tutorial.html" class="btn btn-neutral float-left" title="12. Calibration tutorial" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="zambezi.html" class="btn btn-neutral float-right" title="14. Example Zambezi" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, IIASA Water Security.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>